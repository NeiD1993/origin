
Процедура ОбработкаПроведения(Отказ, Режим)
	//{{__КОНСТРУКТОР_ДВИЖЕНИЙ_РЕГИСТРОВ
	// Данный фрагмент построен конструктором.
	// При повторном использовании конструктора, внесенные вручную изменения будут утеряны!!!

	// регистр ДвижениеЭкземпляровКниг
	Движения.ДвижениеЭкземпляровКниг.Записывать = Истина;
	Для Каждого ТекСтрокаКниги Из Книги Цикл
		Движение = Движения.ДвижениеЭкземпляровКниг.Добавить();
		Движение.Период = Дата;
		Движение.ВидКниги = ТекСтрокаКниги.Вид;
		Движение.Сектор = ТекСтрокаКниги.Сектор;
		Движение.Код = ТекСтрокаКниги.Код;
		Движение.РегистрационныйНомер = ТекСтрокаКниги.РегистрационныйНомер;
		Движение.Статус = Перечисления.СтатусКниги.Забронировано;
		Движение.Название = ТекСтрокаКниги.Название;
		Движение.Автор = ТекСтрокаКниги.Автор;
	КонецЦикла;

	// регистр ДвижениеЭкземпляровКнигПоЧитателям
	Движения.ДвижениеЭкземпляровКнигПоЧитателям.Записывать = Истина;
	Для Каждого ТекСтрокаКниги Из Книги Цикл
		Движение = Движения.ДвижениеЭкземпляровКнигПоЧитателям.Добавить();
		Движение.Период = Дата;
		Движение.Читатель = Читатель;
		Движение.ВидКниги = ТекСтрокаКниги.Вид;
		Движение.Сектор = ТекСтрокаКниги.Сектор;
		Движение.Код = ТекСтрокаКниги.Код;
		Движение.РегистрационныйНомер = ТекСтрокаКниги.РегистрационныйНомер;
		Движение.Статус = Перечисления.СтатусКнигиПоЧитателю.Забронировано;
		Движение.Название = ТекСтрокаКниги.Название;
		Движение.Автор = ТекСтрокаКниги.Автор;
	КонецЦикла;

	//}}__КОНСТРУКТОР_ДВИЖЕНИЙ_РЕГИСТРОВ
КонецПроцедуры
